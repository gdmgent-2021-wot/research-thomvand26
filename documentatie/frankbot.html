<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Frankbot | Chatbots</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" type="image/png" sizes="96x96" href="/research-thomvand26/assets/favicons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="48x48" href="/research-thomvand26/assets/favicons/favicon-48x48.png">
    <meta name="description" content="Onderzoek naar chatbots.">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="preload" href="/research-thomvand26/assets/css/0.styles.7f5c13d7.css" as="style"><link rel="preload" href="/research-thomvand26/assets/js/app.9e2ef4d6.js" as="script"><link rel="preload" href="/research-thomvand26/assets/js/2.029014fa.js" as="script"><link rel="preload" href="/research-thomvand26/assets/js/8.70b05aa4.js" as="script"><link rel="prefetch" href="/research-thomvand26/assets/js/10.87b76110.js"><link rel="prefetch" href="/research-thomvand26/assets/js/11.4fb54f04.js"><link rel="prefetch" href="/research-thomvand26/assets/js/12.29fd844e.js"><link rel="prefetch" href="/research-thomvand26/assets/js/13.775e072b.js"><link rel="prefetch" href="/research-thomvand26/assets/js/14.0f089cb7.js"><link rel="prefetch" href="/research-thomvand26/assets/js/3.804d668d.js"><link rel="prefetch" href="/research-thomvand26/assets/js/4.5ed19beb.js"><link rel="prefetch" href="/research-thomvand26/assets/js/5.512510ca.js"><link rel="prefetch" href="/research-thomvand26/assets/js/6.b2eed379.js"><link rel="prefetch" href="/research-thomvand26/assets/js/7.b5a16f72.js"><link rel="prefetch" href="/research-thomvand26/assets/js/9.6af56fd0.js">
    <link rel="stylesheet" href="/research-thomvand26/assets/css/0.styles.7f5c13d7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/research-thomvand26/" class="home-link router-link-active"><!----> <span class="site-name">Chatbots</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/research-thomvand26/over/" class="nav-link">
  Over
</a></div><div class="nav-item"><a href="/research-thomvand26/toepassingen/" class="nav-link">
  Toepassingen
</a></div><div class="nav-item"><a href="/research-thomvand26/documentatie/" class="nav-link router-link-active">
  Documentatie
</a></div><div class="nav-item"><a href="/research-thomvand26/referenties/" class="nav-link">
  Referenties
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/research-thomvand26/over/" class="nav-link">
  Over
</a></div><div class="nav-item"><a href="/research-thomvand26/toepassingen/" class="nav-link">
  Toepassingen
</a></div><div class="nav-item"><a href="/research-thomvand26/documentatie/" class="nav-link router-link-active">
  Documentatie
</a></div><div class="nav-item"><a href="/research-thomvand26/referenties/" class="nav-link">
  Referenties
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Documentatie</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/research-thomvand26/documentatie/" aria-current="page" class="sidebar-link">Intro</a></li><li><a href="/research-thomvand26/documentatie/demo.html" class="sidebar-link">Demo Project</a></li><li><a href="/research-thomvand26/documentatie/frankbot.html" aria-current="page" class="active sidebar-link">Frankbot</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/research-thomvand26/documentatie/frankbot.html#demo-van-frankbot" class="sidebar-link">Demo van Frankbot</a></li><li class="sidebar-sub-header"><a href="/research-thomvand26/documentatie/frankbot.html#triggers" class="sidebar-link">Triggers</a></li><li class="sidebar-sub-header"><a href="/research-thomvand26/documentatie/frankbot.html#uitleg-bij-code" class="sidebar-link">Uitleg bij code</a></li><li class="sidebar-sub-header"><a href="/research-thomvand26/documentatie/frankbot.html#rivescript" class="sidebar-link">RiveScript</a></li><li class="sidebar-sub-header"><a href="/research-thomvand26/documentatie/frankbot.html#de-chatbot" class="sidebar-link">De chatbot</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="frankbot"><a href="#frankbot" class="header-anchor">#</a> Frankbot</h1> <p>In dit laatste project over chatbots, heb ik door gebruik te maken van <a href="https://reactjs.org/" target="_blank" rel="noopener noreferrer">React<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, <a href="https://www.rivescript.com/" target="_blank" rel="noopener noreferrer">RiveScript<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> en de <a href="https://openweathermap.org/api" target="_blank" rel="noopener noreferrer">Open Weather API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> een chatbot gemaakt die meer info geeft over het huidige weer, geïnspireerd door Frank Deboosere.</p> <h2 id="demo-van-frankbot"><a href="#demo-van-frankbot" class="header-anchor">#</a> Demo van Frankbot</h2> <p>Hieronder kan je zelf Frankbot uittesten.</p> <iframe src="https://thomvand26.github.io/frankbot/" width="100%" height="500px" style="border:none;"></iframe> <h2 id="triggers"><a href="#triggers" class="header-anchor">#</a> Triggers</h2> <p>Frankbot reageert op de volgende triggers:</p> <h3 id="algemeen"><a href="#algemeen" class="header-anchor">#</a> Algemeen</h3> <table><thead><tr><th>Trigger</th> <th>Antwoord</th></tr></thead> <tbody><tr><td>hallo</td> <td>Begroeting</td></tr> <tr><td>doei</td> <td>Afscheidsbericht</td></tr></tbody></table> <h3 id="weer"><a href="#weer" class="header-anchor">#</a> Weer</h3> <table><thead><tr><th>Trigger</th> <th>Antwoord</th></tr></thead> <tbody><tr><td>weer</td> <td>Huidige weersvoorspelling</td></tr> <tr><td>graden/warm/koud/temperatuur</td> <td>Huidige temperatuur</td></tr> <tr><td>wind/waaien</td> <td>Huidige windsnelheid</td></tr> <tr><td>regen</td> <td>Gevallen regen in het afgelopen uur</td></tr></tbody></table> <h3 id="locatie"><a href="#locatie" class="header-anchor">#</a> Locatie</h3> <table><thead><tr><th>Trigger</th> <th>Antwoord</th></tr></thead> <tbody><tr><td>in</td> <td>Om de locatie te veranderen (standaard: Gent)</td></tr> <tr><td>ja/nee</td> <td>Om de lokatie te bevestigen</td></tr></tbody></table> <h2 id="uitleg-bij-code"><a href="#uitleg-bij-code" class="header-anchor">#</a> Uitleg bij code</h2> <p>In dit onderdeel, zal ik dit project kort overlopen. Aangezien het voornamelijk over de functionaliteit gaat, ga ik het niet hebben over de styling.</p> <h3 id="basis"><a href="#basis" class="header-anchor">#</a> Basis</h3> <p>Ik ben begonnen met een React app te maken aan de hand van het commando <code>yarn create react-app</code>. Hierna heb ik enkele basiselementen verwijderd en de mappenstructuur aangepast.
Ook voeg ik de volgende packages toe: <code>node-sass</code>, <code>classnames</code> en <code>rivescript</code>.</p> <p>Mijn mappenstructuur ziet er dan zo uit:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">.</span>
├── node_modules
│   └── <span class="token punctuation">..</span>.
├── public
│   └── <span class="token punctuation">..</span>.
├── src
│   ├── app
│   │   ├── _scss
│   │   │   └── <span class="token punctuation">..</span>.
│   │   ├── assets
│   │   │   └── frank-deboosere.jpg
│   │   ├── components
│   │   │   ├── ChatDisplay
│   │   │   │   └── index.jsx
│   │   │   └── index.js
│   │   ├── config
│   │   │   └── index.js
│   │   ├── rivescript
│   │   ├── services
│   │   │   ├── chatbot.service.js
│   │   │   └── index.js
│   │   ├── App.jsx
│   │   └── app.scss
│   ├── index.css
│   └── index.js
├── .env
├── .gitignore
├── package.json
├── README.md
└── yarn.lock
</code></pre></div><p>In <code>index.js</code> (in de <code>src</code>-map) heb ik nu de volgende code staan:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./index.css'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./app/App.jsx'</span><span class="token punctuation">;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">React.StrictMode</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">React.StrictMode</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span>
	document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>In <code>App.jsx</code> (in de <code>app</code>-map) heb ik nu de volgende code staan:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./app.scss'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> Frank <span class="token keyword">from</span> <span class="token string">'./assets/frank-deboosere.jpg'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>appHeader container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inner<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
					</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Frank<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Frank Deboosere<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
					</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Frankbot</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>appMain container fullHeight<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inner fullHeight<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>In <code>app.scss</code> (in de <code>app</code>-map) link ik alle scss-bestanden die in de <code>_scss</code>-map staan.</p> <h2 id="rivescript"><a href="#rivescript" class="header-anchor">#</a> RiveScript</h2> <p>In de <code>rivescript</code>-map maak ik een nieuw bestand aan genaamd <code>brain.rive</code>.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>rivescript
└── brain.rive
</code></pre></div><p>Hierin staat de logica van de frankbot. Deze ziet er als volgt uit:</p> <div class="language-javascript rivescript extra-class"><pre class="language-javascript"><code><span class="token operator">!</span> version <span class="token operator">=</span> <span class="token number">2.0</span>


<span class="token comment">// Substitutions</span>

<span class="token operator">!</span> sub temp      <span class="token operator">=</span> temperatuur
<span class="token operator">!</span> sub dag       <span class="token operator">=</span> hallo
<span class="token operator">!</span> sub salut     <span class="token operator">=</span> doei
<span class="token operator">!</span> sub tot later     <span class="token operator">=</span> doei
<span class="token operator">!</span> sub tot ziens     <span class="token operator">=</span> doei
<span class="token operator">!</span> sub totziens      <span class="token operator">=</span> doei
<span class="token operator">!</span> sub fijne dag nog       <span class="token operator">=</span> doei


<span class="token comment">// Triggers en antwoorden</span>

<span class="token operator">+</span> <span class="token punctuation">(</span>hallo<span class="token operator">|</span><span class="token operator">*</span>hallo<span class="token operator">|</span>hallo<span class="token operator">*</span><span class="token operator">|</span><span class="token operator">*</span>hallo<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">{</span>weight<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">}</span>
<span class="token operator">-</span> Hallo<span class="token operator">!</span> Probeer zoektermen met daarin weer<span class="token punctuation">,</span> <span class="token string">'temperatuur'</span><span class="token punctuation">,</span> <span class="token string">'wind'</span> <span class="token keyword">of</span> <span class="token string">'regen'</span> om meer te weten te komen over het weer op dit moment<span class="token punctuation">.</span>

<span class="token operator">+</span> <span class="token operator">*</span> <span class="token keyword">in</span> <span class="token operator">*</span><span class="token punctuation">{</span>weight<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">}</span>
<span class="token operator">-</span> <span class="token operator">&lt;</span><span class="token keyword">set</span> location<span class="token operator">=</span><span class="token operator">&lt;</span>star2<span class="token operator">&gt;&gt;</span>Wil je het weer <span class="token keyword">in</span> <span class="token operator">&lt;</span><span class="token keyword">get</span> location<span class="token operator">&gt;</span> weten<span class="token operator">?</span>

<span class="token operator">+</span> ja
<span class="token operator">%</span> <span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token operator">*</span><span class="token operator">|</span><span class="token operator">*</span> <span class="token keyword">in</span> <span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token operator">&lt;</span>call<span class="token operator">&gt;</span>getWeather <span class="token operator">&lt;</span><span class="token keyword">get</span> location<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>call<span class="token operator">&gt;</span>

<span class="token operator">+</span> nee
<span class="token operator">%</span> <span class="token punctuation">(</span><span class="token keyword">in</span> <span class="token operator">*</span><span class="token operator">|</span><span class="token operator">*</span> <span class="token keyword">in</span> <span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token operator">-</span> Ok<span class="token punctuation">.</span>

<span class="token operator">+</span> <span class="token punctuation">(</span>weer<span class="token operator">|</span><span class="token operator">*</span>weer<span class="token operator">|</span>weer<span class="token operator">*</span><span class="token operator">|</span><span class="token operator">*</span>weer<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">{</span>weight<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">}</span>
<span class="token operator">-</span> <span class="token operator">&lt;</span>call<span class="token operator">&gt;</span>getWeather <span class="token operator">&lt;</span><span class="token keyword">get</span> location<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>call<span class="token operator">&gt;</span>

<span class="token operator">+</span> <span class="token punctuation">(</span>temperatuur<span class="token operator">|</span><span class="token operator">*</span>temperatuur<span class="token operator">|</span>temperatuur<span class="token operator">*</span><span class="token operator">|</span><span class="token operator">*</span>temperatuur<span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token operator">&lt;</span>call<span class="token operator">&gt;</span>getWeather <span class="token operator">&lt;</span><span class="token keyword">get</span> location<span class="token operator">&gt;</span> temperatuur<span class="token operator">&lt;</span><span class="token operator">/</span>call<span class="token operator">&gt;</span>

<span class="token operator">+</span> <span class="token punctuation">(</span>graden<span class="token operator">|</span><span class="token operator">*</span>graden<span class="token operator">|</span>graden<span class="token operator">*</span><span class="token operator">|</span><span class="token operator">*</span>graden<span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token operator">&lt;</span>call<span class="token operator">&gt;</span>getWeather <span class="token operator">&lt;</span><span class="token keyword">get</span> location<span class="token operator">&gt;</span> temperatuur<span class="token operator">&lt;</span><span class="token operator">/</span>call<span class="token operator">&gt;</span>

<span class="token operator">+</span> <span class="token punctuation">(</span>warm<span class="token operator">|</span><span class="token operator">*</span>warm<span class="token operator">|</span>warm<span class="token operator">*</span><span class="token operator">|</span><span class="token operator">*</span>warm<span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token operator">&lt;</span>call<span class="token operator">&gt;</span>getWeather <span class="token operator">&lt;</span><span class="token keyword">get</span> location<span class="token operator">&gt;</span> temperatuur<span class="token operator">&lt;</span><span class="token operator">/</span>call<span class="token operator">&gt;</span>

<span class="token operator">+</span> <span class="token punctuation">(</span>koud<span class="token operator">|</span><span class="token operator">*</span>koud<span class="token operator">|</span>koud<span class="token operator">*</span><span class="token operator">|</span><span class="token operator">*</span>koud<span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token operator">&lt;</span>call<span class="token operator">&gt;</span>getWeather <span class="token operator">&lt;</span><span class="token keyword">get</span> location<span class="token operator">&gt;</span> temperatuur<span class="token operator">&lt;</span><span class="token operator">/</span>call<span class="token operator">&gt;</span>

<span class="token operator">+</span> <span class="token punctuation">(</span>wind<span class="token operator">|</span><span class="token operator">*</span>wind<span class="token operator">|</span>wind<span class="token operator">*</span><span class="token operator">|</span><span class="token operator">*</span>wind<span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token operator">&lt;</span>call<span class="token operator">&gt;</span>getWeather <span class="token operator">&lt;</span><span class="token keyword">get</span> location<span class="token operator">&gt;</span> wind<span class="token operator">&lt;</span><span class="token operator">/</span>call<span class="token operator">&gt;</span>

<span class="token operator">+</span> <span class="token punctuation">(</span>waaien<span class="token operator">|</span><span class="token operator">*</span>waaien<span class="token operator">|</span>waaien<span class="token operator">*</span><span class="token operator">|</span><span class="token operator">*</span>waaien<span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token operator">&lt;</span>call<span class="token operator">&gt;</span>getWeather <span class="token operator">&lt;</span><span class="token keyword">get</span> location<span class="token operator">&gt;</span> wind<span class="token operator">&lt;</span><span class="token operator">/</span>call<span class="token operator">&gt;</span>

<span class="token operator">+</span> <span class="token punctuation">(</span>regen<span class="token operator">|</span><span class="token operator">*</span>regen<span class="token operator">|</span>regen<span class="token operator">*</span><span class="token operator">|</span><span class="token operator">*</span>regen<span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token operator">-</span> <span class="token operator">&lt;</span>call<span class="token operator">&gt;</span>getWeather <span class="token operator">&lt;</span><span class="token keyword">get</span> location<span class="token operator">&gt;</span> regen<span class="token operator">&lt;</span><span class="token operator">/</span>call<span class="token operator">&gt;</span>

<span class="token operator">+</span> <span class="token punctuation">(</span>doei<span class="token operator">|</span><span class="token operator">*</span>doei<span class="token operator">|</span>doei<span class="token operator">*</span><span class="token operator">|</span><span class="token operator">*</span>doei<span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token operator">-</span> Tot later<span class="token operator">!</span> Hopelijk zie ik je snel weer<span class="token punctuation">,</span> met meer weer<span class="token operator">!</span>

<span class="token operator">+</span> <span class="token operator">*</span>
<span class="token operator">-</span> Dat heb ik niet begrepen<span class="token operator">...</span>
<span class="token operator">-</span> Oei<span class="token punctuation">,</span> dat heb ik niet verstaan<span class="token operator">...</span>
<span class="token operator">-</span> Vraag me iets over het weer<span class="token punctuation">.</span>
</code></pre></div><table><thead><tr><th>Code</th> <th>Uitleg</th></tr></thead> <tbody><tr><td><code>! sub dag = hallo</code></td> <td>Met substitutions kan je woorden gelijkstellen aan elkaar. Bij 'dag' wordt ook 'hallo' getriggerd en vice versa.</td></tr> <tr><td><code>+ (weer|*weer|weer*|*weer*)</code></td> <td>Deze trigger zal getriggerd worden bij elke zin waar 'weer' in voorkomt. Ongeacht wat er voor of na staat.</td></tr> <tr><td><code>{weight=9}</code></td> <td>Aan triggers kunnen we een <code>weight</code> (of 'gewicht') meegeven. Zo kunnen we bepalen welke trigger voorang krijgt wanneer er meerdere tegelijkertijd worden getriggerd. Hoger gewicht = meer voorrang.</td></tr> <tr><td><code>&lt;set location=&lt;star2&gt;&gt;</code></td> <td>Met <code>&lt;set variabele=waarde&gt;</code> kunnen we waarden aan variabelen toewijzen binnen het RiveScript-bestand. Met <code>&lt;star&gt;</code> kan je de waarde van een wildcard gebruiken. <code>&lt;star2&gt;</code> zal dus de waarde krijgen van wat er op de plaats van de 2e wildcard staat.</td></tr> <tr><td><code>&lt;get location&gt;</code></td> <td>Hiermee kunnen we de waarde van een variabele weergeven/gebruiken.</td></tr> <tr><td><code>% (in *|* in *)</code></td> <td>Met <code>%</code> kan je de volgorde van triggers bepalen. De trigger die erboven staat zal pas getriggerd worden als de vorige trigger de woorden bevat die na <code>%</code> staan (in dit geval 'in').</td></tr> <tr><td><code>&lt;call&gt;getWeather&lt;/call&gt;</code></td> <td>Met <code>&lt;call&gt;&lt;/call&gt;</code> kunnen we een functie oproepen binnen RiveScript. Deze kan in het bestand zelf gedefinieerd staan of achteraf gelinkt worden aan het RiveScript-bestand.</td></tr></tbody></table> <h2 id="de-chatbot"><a href="#de-chatbot" class="header-anchor">#</a> De chatbot</h2> <p>Het RiveScript-bestand wordt gelinkt aan de chatbot. Dit doe ik door een store aan te maken (met een React context en context provider), waar alle componenten aan kunnen.</p> <p>In <code>chatbot.service.js</code> (in de <code>services</code>-map) staat volgende code:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
	<span class="token keyword">default</span> <span class="token keyword">as</span> React<span class="token punctuation">,</span>
	useContext<span class="token punctuation">,</span>
	createContext<span class="token punctuation">,</span>
	useState<span class="token punctuation">,</span>
	useEffect<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> RiveScript <span class="token keyword">from</span> <span class="token string">'rivescript'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> openWeatherConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../config'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> Brain <span class="token keyword">from</span> <span class="token string">'../rivescript/brain.rive'</span><span class="token punctuation">;</span>

<span class="token comment">// De context</span>
<span class="token keyword">const</span> ChatbotContext <span class="token operator">=</span> <span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// De hook</span>
<span class="token keyword">const</span> <span class="token function-variable function">useChatbot</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">useContext</span><span class="token punctuation">(</span>ChatbotContext<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// De context provider</span>
<span class="token keyword">const</span> <span class="token function-variable function">ChatbotProvider</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// De instantie van de chatbot</span>
	<span class="token keyword">const</span> <span class="token punctuation">[</span>bot<span class="token punctuation">,</span> setBot<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// De 'addToDisplay'-functie (gelinkt vanuit het 'ChatDisplay'-component)</span>
	<span class="token keyword">const</span> <span class="token punctuation">[</span>addToDisplay<span class="token punctuation">,</span> setAddToDisplay<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Wanneer dit component geïnitialiseerd wordt:</span>
	<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">// Instantieer de chatbot en voeg deze toe aan de 'bot'-state</span>
		<span class="token function">setBot</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RiveScript</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Wanneer de chatbot wel/niet geïnstantieerd wordt,</span>
	<span class="token comment">// en/of wanneer de 'addToDisplay'-functie gelinkt wordt:</span>
	<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">// Voer volgende code niet uit als de bot niet geïnstantieerd of de 'addToDisplay'-functie niet gelinkt is</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>bot <span class="token operator">||</span> <span class="token operator">!</span>addToDisplay<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

		<span class="token comment">// Voeg de functie 'getWeather' toe aan het RiveScript-bestand</span>
		bot<span class="token punctuation">.</span><span class="token function">setSubroutine</span><span class="token punctuation">(</span><span class="token string">'getWeather'</span><span class="token punctuation">,</span> getWeather<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>bot<span class="token punctuation">,</span> addToDisplay<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Wanneer de chatbot wel/niet geïnstantieerd wordt:</span>
	<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">// Initialiseer de chatbot als deze nog niet geïnstantieerd is</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>bot<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token function">initializeBot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>bot<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Initialiseer de chatbot</span>
	<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">initializeBot</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			<span class="token comment">// Laad het RiveScript bestand</span>
			<span class="token keyword">await</span> bot<span class="token punctuation">.</span><span class="token function">loadFile</span><span class="token punctuation">(</span>Brain<span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// Verwerk en sorteer de triggers en antwoorden</span>
			bot<span class="token punctuation">.</span><span class="token function">sortReplies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// Voeg de variabele 'location', met bijbehorende waarde 'gent' toe aan het RiveScript-bestand</span>
			bot<span class="token punctuation">.</span><span class="token function">setUservar</span><span class="token punctuation">(</span><span class="token string">'local-user'</span><span class="token punctuation">,</span> <span class="token string">'location'</span><span class="token punctuation">,</span> <span class="token string">'gent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'De chatbot is geïnitialiseerd!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Verwerk een input door de bot</span>
	<span class="token keyword">function</span> <span class="token function">reply</span><span class="token punctuation">(</span><span class="token parameter">input</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> bot<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string">'local-user'</span><span class="token punctuation">,</span> input<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Verkrijg het weer via de Open Weather API</span>
	<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getWeather</span><span class="token punctuation">(</span><span class="token parameter">rs<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// Verkrijg het weer via de Open Weather API</span>
		<span class="token keyword">const</span> fetchUrl <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>openWeatherConfig<span class="token punctuation">.</span>baseURL<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">weather?q=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;units=metric&amp;lang=nl&amp;APPID=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>openWeatherConfig<span class="token punctuation">.</span>ApiKey<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>fetchUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Het laatst te geven bericht</span>
		<span class="token keyword">let</span> finalResponse <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>

		<span class="token comment">// Genereer antwoorden die bij het tweede argument passen (met de verkregen data)</span>
		<span class="token keyword">switch</span> <span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">case</span> <span class="token string">'temperatuur'</span><span class="token operator">:</span>
				finalResponse <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Het is nu </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">parseInt</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>main<span class="token punctuation">.</span>temp<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">°C in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">case</span> <span class="token string">'wind'</span><span class="token operator">:</span>
				finalResponse <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Er zijn momenteel windsnelheden van </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">parseInt</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>wind<span class="token punctuation">.</span>speed<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> meter per seconde in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token keyword">case</span> <span class="token string">'regen'</span><span class="token operator">:</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>rain<span class="token punctuation">)</span> <span class="token punctuation">{</span>
					finalResponse <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Het voorbije uur heeft het </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">parseInt</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>rain<span class="token punctuation">.</span>rain<span class="token punctuation">[</span><span class="token string">'1h'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">mm/m² geregend in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					finalResponse <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Het voorbije uur heeft het niet geregend in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>

			<span class="token comment">// Genereer een antwoord als er geen tweede argument is</span>
			<span class="token keyword">default</span><span class="token operator">:</span>
				<span class="token comment">// Voeg direct een bericht toe aan het chatvenster (niet via een antwoord in het RiveScript-bestand)</span>
				addToDisplay<span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span>
					<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">De weersvoorspelling voor vandaag is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token punctuation">.</span>weather<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>description<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span>
				<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">// Voeg direct knoppen toe aan het chatvenster</span>
				addToDisplay<span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
						</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
							<span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chatButton<span class="token punctuation">&quot;</span></span>
							<span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">sayAsUser</span><span class="token punctuation">(</span><span class="token string">'temperatuur'</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
						<span class="token punctuation">&gt;</span></span><span class="token plain-text">
							Temperatuur
						</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
						</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chatButton<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">sayAsUser</span><span class="token punctuation">(</span><span class="token string">'wind'</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
							Wind
						</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
						</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chatButton<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">sayAsUser</span><span class="token punctuation">(</span><span class="token string">'regen'</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
							Regen
						</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
					</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
				<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Geef het laats te geven bericht terug (als antwoord) aan het RiveScript-bestand</span>
		<span class="token keyword">return</span> finalResponse<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Verstuur een bericht in naam van de gebruiker</span>
	<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">sayAsUser</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// Voeg het bericht toe aan het chatvenster</span>
		addToDisplay<span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Verwerk het bericht door de chatbot en krijg een gepast antwoord</span>
		<span class="token keyword">const</span> replyFromBot <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">reply</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Voeg het antwoord toe aan het chatvenster</span>
		addToDisplay<span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span>replyFromBot<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

  <span class="token comment">// Maak bepaalde functies/variabelen beschikbaar in de context provider</span>
	<span class="token keyword">const</span> exports <span class="token operator">=</span> <span class="token punctuation">{</span>
		setAddToDisplay<span class="token punctuation">,</span>
		reply<span class="token punctuation">,</span>
		botReady<span class="token operator">:</span> <span class="token operator">!</span><span class="token operator">!</span>bot<span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// Geef de context provider terug</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ChatbotContext.Provider</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>exports<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ChatbotContext.Provider</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> ChatbotContext<span class="token punctuation">,</span> ChatbotProvider<span class="token punctuation">,</span> useChatbot <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>In <code>index.js</code> (in de <code>services</code>-map) staat volgende code:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">'./chatbot.service'</span><span class="token punctuation">;</span>
</code></pre></div><p>En in <code>index.js</code> (in de <code>src</code>-map):</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./index.css'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./app/App.jsx'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ChatbotProvider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./app/services'</span><span class="token punctuation">;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">React.StrictMode</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ChatbotProvider</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ChatbotProvider</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
	</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">React.StrictMode</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span>
	document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Om de Open Weather API te kunnen gebruiken, plaats ik in het <code>.env</code>-bestand de base URL van deze API en de API key die ik krijg bij het maken van een account op <a href="https://openweathermap.org/api" target="_blank" rel="noopener noreferrer">de website<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>Dit ziet er zo uit:</p> <div class="language- extra-class"><pre class="language-text"><code>REACT_APP_OPEN_WEATHER_BASE_URL=https://api.openweathermap.org/data/2.5/
REACT_APP_OPEN_WEATHER_API_KEY=*mijn geheime API key*
</code></pre></div><p>Ik maak het mezelf makkelijker door een configuratiebestand te maken. In <code>index.js</code> (in de <code>config</code>-map) staat het volgende:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> openWeatherConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  baseURL<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">REACT_APP_OPEN_WEATHER_BASE_URL</span><span class="token punctuation">,</span>
  ApiKey<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">REACT_APP_OPEN_WEATHER_API_KEY</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>Hierna kan ik de chatbot gebuiken in al mijn componenten.</p> <p>Ik maak een component aan om het chatvenster weer te geven.</p> <p>In <code>index.js</code> (in de <code>ChatDisplay</code>-map) staat volgende code:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> classNames <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'classnames'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useChatbot <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../../services'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// De inputwaarde van de gebruiker</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>inputValue<span class="token punctuation">,</span> setInputValue<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Alle berichten die in het chatvenster komen</span>
	<span class="token keyword">const</span> <span class="token punctuation">[</span>messages<span class="token punctuation">,</span> setMessages<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// De referentie naar het chatvenster</span>
	<span class="token keyword">const</span> chatDisplayRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Functionaliteit van de chatbot</span>
	<span class="token keyword">const</span> <span class="token punctuation">{</span> reply<span class="token operator">:</span> botReply<span class="token punctuation">,</span> setAddToDisplay<span class="token punctuation">,</span> botReady <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useChatbot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Wanneer de chatbot wel/niet geïnitialiseerd wordt:</span>
	<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// Voer volgende code niet uit als de bot niet geïnitialiseerd is</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>botReady<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

        <span class="token comment">// Link de 'addToDisplay' functie in aan de chatbot service (store)</span>
		<span class="token function">setAddToDisplay</span><span class="token punctuation">(</span><span class="token punctuation">{</span> callback<span class="token operator">:</span> addToDisplay <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>botReady<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Wanneer er bericht bijkomen:</span>
	<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// Voer volgende code niet uit als het chatvenster nog niet bestaat is</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>chatDisplayRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

        <span class="token comment">// Scroll naar beneden (naar het nieuwste bericht)</span>
		chatDisplayRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			top<span class="token operator">:</span> chatDisplayRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>messages<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Voeg een bericht toe aan het chatvenster</span>
	<span class="token keyword">function</span> <span class="token function">addToDisplay</span><span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> isUser <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Voer volgende code niet uit als het bericht een lege string is</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>message <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        
        <span class="token comment">// Voeg een bericht toe aan de 'messages'-state</span>
		<span class="token function">setMessages</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prev</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
			<span class="token operator">...</span>prev<span class="token punctuation">,</span>
			<span class="token punctuation">{</span>
				message<span class="token punctuation">,</span>
				isUser<span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Verstuur het bericht</span>
	<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// Voer volgende code niet uit als er geen input is</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>inputValue<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">setInputValue</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Voer volgende code niet uit als er geen input is</span>
		<span class="token function">sayAsUser</span><span class="token punctuation">(</span>inputValue<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Reset de input in het de 'inputValue' state (en dus ook het inputveld)</span>
		<span class="token function">setInputValue</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Verstuur een bericht in naam van de gebruiker</span>
	<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">sayAsUser</span><span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// Voeg het bericht toe aan het chatvenster</span>
		<span class="token function">addToDisplay</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Verwerk het bericht door de chatbot en krijg een gepast antwoord</span>
		<span class="token keyword">const</span> reply <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">botReply</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Voeg het antwoord toe aan het chatvenster</span>
		<span class="token function">addToDisplay</span><span class="token punctuation">(</span>reply<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Luister naar veranderingen van het inputveld</span>
	<span class="token keyword">function</span> <span class="token function">onInputChange</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// Verwijder de witruimte van de input en sla deze op</span>
		<span class="token function">setInputValue</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Luister naar het klikken op de 'Verstuur'-knop (en het drukken op de Enter-toets)</span>
	<span class="token keyword">function</span> <span class="token function">onSubmit</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// Voorkom dat het scherm ververst wordt</span>
		e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Verstuur de opgeslagen input</span>
		<span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chatContainer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chatDisplay<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>chatDisplayRef<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token punctuation">{</span>messages<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">messageObject<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
						<span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">message-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span>
						<span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">classNames</span><span class="token punctuation">(</span>
							<span class="token string">'chatMessage'</span><span class="token punctuation">,</span>
							<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>messageObject<span class="token punctuation">.</span>isUser <span class="token operator">&amp;&amp;</span> <span class="token string">'chatMessage--user'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
						<span class="token punctuation">)</span><span class="token punctuation">}</span></span>
					<span class="token punctuation">&gt;</span></span><span class="token plain-text">
						</span><span class="token punctuation">{</span>messageObject<span class="token punctuation">.</span>message<span class="token punctuation">}</span><span class="token plain-text">
					</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
				<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chatForm<span class="token punctuation">&quot;</span></span> <span class="token attr-name">autoComplete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>off<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onSubmit<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
					<span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chatInput<span class="token punctuation">&quot;</span></span>
					<span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>
					<span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chatInput<span class="token punctuation">&quot;</span></span>
					<span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chatInput<span class="token punctuation">&quot;</span></span>
					<span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onInputChange<span class="token punctuation">}</span></span>
					<span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>inputValue<span class="token punctuation">}</span></span>
					<span class="token attr-name">autoFocus</span>
				<span class="token punctuation">/&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chatSend<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
					Verstuur
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>Om het component makkelijker te kunnen aanspreken, plaats ik het volgende in het <code>index.js</code>-bestand (in de <code>components</code>-map):</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token punctuation">{</span><span class="token keyword">default</span> <span class="token keyword">as</span> ChatDisplay<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./ChatDisplay'</span><span class="token punctuation">;</span>
</code></pre></div><p>Het component plaats ik in <code>App.jsx</code> zodat het getoond wordt op het scherm. <code>App.jsx</code> (in de <code>app</code>-map) ziet er nu zo uit:</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./app.scss'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> Frank <span class="token keyword">from</span> <span class="token string">'./assets/frank-deboosere.jpg'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ChatDisplay <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./components'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>appHeader container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inner<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
					</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Frank<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Frank Deboosere<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
					</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Frankbot</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>appMain container fullHeight<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inner fullHeight<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
					</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ChatDisplay</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
				</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
			</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
		</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>Dit is zowat de belangrijkste code om Frankbot te laten werken.
De volledige code van dit project kan je terugvinden op <a href="https://github.com/thomvand26/frankbot" target="_blank" rel="noopener noreferrer">de GitHub repo van Frankbot<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/research-thomvand26/documentatie/demo.html" class="prev">
        Demo Project
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/research-thomvand26/assets/js/app.9e2ef4d6.js" defer></script><script src="/research-thomvand26/assets/js/2.029014fa.js" defer></script><script src="/research-thomvand26/assets/js/8.70b05aa4.js" defer></script>
  </body>
</html>
