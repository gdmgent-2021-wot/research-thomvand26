<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Demo Project | Chatbots</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" type="image/png" sizes="96x96" href="/research-thomvand26/assets/favicons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="48x48" href="/research-thomvand26/assets/favicons/favicon-48x48.png">
    <meta name="description" content="Onderzoek naar chatbots.">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="preload" href="/research-thomvand26/assets/css/0.styles.7f5c13d7.css" as="style"><link rel="preload" href="/research-thomvand26/assets/js/app.9e2ef4d6.js" as="script"><link rel="preload" href="/research-thomvand26/assets/js/2.029014fa.js" as="script"><link rel="preload" href="/research-thomvand26/assets/js/7.b5a16f72.js" as="script"><link rel="prefetch" href="/research-thomvand26/assets/js/10.87b76110.js"><link rel="prefetch" href="/research-thomvand26/assets/js/11.4fb54f04.js"><link rel="prefetch" href="/research-thomvand26/assets/js/12.29fd844e.js"><link rel="prefetch" href="/research-thomvand26/assets/js/13.775e072b.js"><link rel="prefetch" href="/research-thomvand26/assets/js/14.0f089cb7.js"><link rel="prefetch" href="/research-thomvand26/assets/js/3.804d668d.js"><link rel="prefetch" href="/research-thomvand26/assets/js/4.5ed19beb.js"><link rel="prefetch" href="/research-thomvand26/assets/js/5.512510ca.js"><link rel="prefetch" href="/research-thomvand26/assets/js/6.b2eed379.js"><link rel="prefetch" href="/research-thomvand26/assets/js/8.70b05aa4.js"><link rel="prefetch" href="/research-thomvand26/assets/js/9.6af56fd0.js">
    <link rel="stylesheet" href="/research-thomvand26/assets/css/0.styles.7f5c13d7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/research-thomvand26/" class="home-link router-link-active"><!----> <span class="site-name">Chatbots</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/research-thomvand26/over/" class="nav-link">
  Over
</a></div><div class="nav-item"><a href="/research-thomvand26/toepassingen/" class="nav-link">
  Toepassingen
</a></div><div class="nav-item"><a href="/research-thomvand26/documentatie/" class="nav-link router-link-active">
  Documentatie
</a></div><div class="nav-item"><a href="/research-thomvand26/referenties/" class="nav-link">
  Referenties
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/research-thomvand26/over/" class="nav-link">
  Over
</a></div><div class="nav-item"><a href="/research-thomvand26/toepassingen/" class="nav-link">
  Toepassingen
</a></div><div class="nav-item"><a href="/research-thomvand26/documentatie/" class="nav-link router-link-active">
  Documentatie
</a></div><div class="nav-item"><a href="/research-thomvand26/referenties/" class="nav-link">
  Referenties
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Documentatie</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/research-thomvand26/documentatie/" aria-current="page" class="sidebar-link">Intro</a></li><li><a href="/research-thomvand26/documentatie/demo.html" aria-current="page" class="active sidebar-link">Demo Project</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/research-thomvand26/documentatie/demo.html#projectstructuur-aanmaken" class="sidebar-link">Projectstructuur Aanmaken</a></li><li class="sidebar-sub-header"><a href="/research-thomvand26/documentatie/demo.html#chatvenster-maken" class="sidebar-link">Chatvenster Maken</a></li><li class="sidebar-sub-header"><a href="/research-thomvand26/documentatie/demo.html#rivescript-toevoegen" class="sidebar-link">RiveScript Toevoegen</a></li><li class="sidebar-sub-header"><a href="/research-thomvand26/documentatie/demo.html#demo" class="sidebar-link">Demo</a></li></ul></li><li><a href="/research-thomvand26/documentatie/frankbot.html" class="sidebar-link">Frankbot</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="demo-project"><a href="#demo-project" class="header-anchor">#</a> Demo Project</h1> <video width="100%" autoplay="autoplay" loop="loop" muted="muted" id="chatbot-demo"><source type="video/mp4" src="/research-thomvand26/assets/videos/chatbot-demo.mp4"></video> <p>In dit project doorlopen we hoe je een simpele chatbot maakt met behulp van webtechnologiën (HTML, CSS en JavaScript) in combinatie met <a href="https://www.rivescript.com/" target="_blank" rel="noopener noreferrer">RiveScript<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="projectstructuur-aanmaken"><a href="#projectstructuur-aanmaken" class="header-anchor">#</a> Projectstructuur Aanmaken</h2> <p>Om onze eigen chatbot te maken, maken we een standaard project aan met een HTML, CSS en JavaScript bestand aan.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">.</span>
├── app.js
├── index.html
└── main.css
</code></pre></div><p>In het HTML bestand zetten we boilerplate HTML code (in Visual Studio Code kan dit makkelijk met: ! + Enter).
We linken het CSS en JavaScript bestand, en geven de website een titel.</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Chatbot Demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Chatbot Demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="chatvenster-maken"><a href="#chatvenster-maken" class="header-anchor">#</a> Chatvenster Maken</h2> <p>Om te kunnen chatten met de bot, moeten we een chatvenster aanmaken. Hiervoor voegen we de volgende code toe in de <code>&lt;body&gt;&lt;/body&gt;</code> van het HTML bestand (Na <code>&lt;h1&gt;Chatbot Demo&lt;/h1&gt;</code>):</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chat-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chat-display<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chat-form<span class="token punctuation">&quot;</span></span> <span class="token attr-name">autocomplete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>off<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chat-input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chat-input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chat-input<span class="token punctuation">&quot;</span></span> <span class="token attr-name">autofocus</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>chat-send<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Verstuur<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Nu moeten we nog de basisfunctionaliteit van het chatvenster toevoegen. Dit doen we aan de hand van het <code>app.js</code> bestand.</p> <p>Eerst linken we de nodige HTML-elementen.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> sendButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.chat-send'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> chatInput <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.chat-input'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> chatDisplay <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.chat-display'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Om de input van de gebruiker bij te houden, luisteren we veranderigen in het input veld en slaan we het op in een variabele.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> inputValue <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>

chatInput<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    inputValue <span class="token operator">=</span> chatInput<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>De tekst moet nu nog getoond worden in het chatvenster wanneer op de 'Verstuur'-knop wordt geklikt. Dit doen we door opnieuw een <code>eventListener</code> en <code>onSend()</code>-functie toe te voegen.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">onSend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>inputValue<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token function">addChat</span><span class="token punctuation">(</span>inputValue<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    chatInput<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    inputValue <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

sendButton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">onSend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>De <code>onSend()</code>-functie verloopt als volgt:</p> <ol><li>Stop de functie als er geen input is.</li> <li>Voeg het bericht toe aan het chatvenster via de <code>addChat</code>-functie (moeten we nog aanmaken).</li> <li>Reset de input en de opgeslagen input.</li></ol> <p>Laten we nu de <code>addChat</code>-functie aanmaken. Deze moet ervoor zorgen dat de berichten getoond worden in het chatvenster.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">addChat</span><span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> isUser <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    element<span class="token punctuation">.</span>innerText <span class="token operator">=</span> message<span class="token punctuation">;</span>
    
	element<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'chat-message'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    isUser <span class="token operator">&amp;&amp;</span> element<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'chat-message--user'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    chatDisplay<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>

    chatDisplay<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        top<span class="token operator">:</span> chatDisplay<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Aan de <code>addChat()</code>-functie moeten we een bericht (<code>message</code>) kunnen meegeven en aangeven of het een bericht van de gebruiker of de chatbot is (<code>isUser</code>);</p> <p>Dze functie verloopt als volgt:</p> <ol><li>Maak een nieuw HTML-element aan.</li> <li>Maak de tekst van het element dezelfde als het meegegeven berricht.</li> <li>Voeg de 'chat-message' <code>class</code> toe.</li> <li>Voeg de 'chat-message--user' <code>class</code> toe inden het een bericht van de gebruiker is.</li> <li>Voeg het element toe aan het chatvenster.</li> <li>Scroll naar beneden.</li></ol> <p>Om het chatvenster mooier te maken, voegen we volgende CSS toe aan het <code>main.css</code> bestand:</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token atrule"><span class="token rule">@import</span> <span class="token function">url</span><span class="token punctuation">(</span>'<span class="token property">https</span><span class="token punctuation">:</span>//fonts.googleapis.com/css2?family=<span class="token property">Roboto</span><span class="token punctuation">:</span>wght<span class="token atrule"><span class="token rule">@400</span><span class="token punctuation">;</span></span></span>700&amp;display=swap'<span class="token punctuation">)</span><span class="token selector">;

*</span> <span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'Roboto'</span><span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">html,
body</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">body</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #222<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #eee<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.chat-container</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>
    <span class="token property">max-width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
    <span class="token property">max-height</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>100vh - 10rem<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #333<span class="token punctuation">;</span>
    <span class="token property">margin-top</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.chat-display</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
    <span class="token property">overflow-y</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.chat-message</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #222<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> .5rem 1rem<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> .5rem 1rem<span class="token punctuation">;</span>
    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> fit-content<span class="token punctuation">;</span>
    <span class="token property">word-break</span><span class="token punctuation">:</span> break-all<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.chat-message:first-child</span> <span class="token punctuation">{</span>
    <span class="token property">margin-top</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.chat-message:last-child</span> <span class="token punctuation">{</span>
    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.chat-message--user</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #222<span class="token punctuation">;</span>
    <span class="token property">align-self</span><span class="token punctuation">:</span> flex-end<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.chat-form</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.chat-input</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0 1rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.chat-input:focus</span> <span class="token punctuation">{</span>
    <span class="token property">outline</span><span class="token punctuation">:</span> 2px solid #aaa<span class="token punctuation">;</span>
    <span class="token property">outline-offset</span><span class="token punctuation">:</span> -2px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.chat-send</span> <span class="token punctuation">{</span>
    <span class="token property">min-width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #aaa<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="rivescript-toevoegen"><a href="#rivescript-toevoegen" class="header-anchor">#</a> RiveScript Toevoegen</h2> <p>Nu kunnen we een RiveScript bestand aanmaken. Dit doen we door gebruik te maken van de <code>.rive</code> bestandsextensie. we maken <code>demo.rive</code> aan.</p> <p>Ons project ziet er nu als volgt uit:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">.</span>
├── app.js
├── demo.rive
├── index.html
└── main.css
</code></pre></div><p>In <code>demo.rive</code> kunnen we nu simpele chatbot logica gebruiken.</p> <p>Eerst voegen we de versie van RiveScript toe:</p> <div class="language-javascript rivescript extra-class"><pre class="language-javascript"><code><span class="token operator">!</span> version <span class="token operator">=</span> <span class="token number">2.0</span>
</code></pre></div><p>Vervolgens kunnen we aan de logica beginnen. RiveScript heeft simpele syntax: tekst voorafgaand van een <code>+</code> dient als trigger, tekst voorafgaand van een <code>-</code> dient als antwoord op een trigger. Triggers worden in lowercase getypt en zonder leestekens. Als de gebruiker toch de trigger typt, maar met hoofdletters en leestekens, zal deze toch getriggerd worden.</p> <p>In een trigger kan je ook wildcards gebruiken (zoals <code>*</code>). Dit wil zeggen dat op de plaats van <code>*</code> gelijk welk woord kan ingevoerd worden.</p> <p>Dit wordt duidelijk aan de hand van een voorbeeld:</p> <div class="language-javascript rivescript extra-class"><pre class="language-javascript"><code><span class="token operator">!</span> version <span class="token operator">=</span> <span class="token number">2.0</span>

<span class="token operator">+</span> hallo chatbot
<span class="token operator">-</span> Hallo gebruiker<span class="token operator">!</span>
</code></pre></div><p>In dit voorbeeld zal 'Hallo gebruiker!' geantwoord worden als de gebruiker 'hallo chatbot', 'Hallo, Chatbot!' of dergelijke verstuurd.</p> <p>Bij dit voorbeeld zal ook een error verschijnen als de input niet matcht met de trigger. Hiervoor kunnen we dus een wildcard gebruiken om zo een standaard antwoord te geven als de gebruiker iets anders verstuurd.</p> <div class="language-javascript rivescript extra-class"><pre class="language-javascript"><code><span class="token operator">!</span> version <span class="token operator">=</span> <span class="token number">2.0</span>

<span class="token operator">+</span> hallo chatbot
<span class="token operator">-</span> Hallo gebruiker<span class="token operator">!</span>

<span class="token operator">+</span> <span class="token operator">*</span>
<span class="token operator">-</span> Dat heb ik niet begrepen<span class="token operator">...</span>
</code></pre></div><p>Nu we de basislogica van onze chatbot hebben, kunnen we deze implementeren in onze website. Hiervoor bestaat een library: rivescript-js.
Om deze toe te voegen, linken we het in ons html document (<code>index.html</code>) door de volgende tag toe te voegen in de <code>&lt;head&gt;&lt;/head&gt;</code>:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://unpkg.com/rivescript@latest/dist/rivescript.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Vervolgens moeten we het implementeren in <code>app.js</code>.</p> <p>Eerst moeten we de chatbot initialiseren. Eerst moeten we hem te instantiëren. Hierna kunnen we ons RiveScript-bestand (<code>demo.rive</code>) linken. Als dat gebeurt is, moeten we alle triggers en antwoorden verwerken en sorteren, anders zal de chatbot niet werken.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> bot <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RiveScript</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">initializeBot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">initializeBot</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">await</span> bot<span class="token punctuation">.</span><span class="token function">loadFile</span><span class="token punctuation">(</span><span class="token string">&quot;demo.rive&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bot<span class="token punctuation">.</span><span class="token function">sortReplies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;De chatbot is geïnitialiseerd!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Als dit gebeurt is, is onze chatbot klaar om te gebreuken. We kunnen nu een input laten verwerken, waarna we een antwoord zullen krijgen. Dit kunnen we doen door de volgende code toe te voegen in de <code>onSend()</code>-functie:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> reply <span class="token operator">=</span> <span class="token keyword">await</span> bot<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string">'local-user'</span><span class="token punctuation">,</span> inputValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">addChat</span><span class="token punctuation">(</span>reply<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Omdat we de reactie van de bot een <code>Promises</code> is, moeten we de functie <code>async</code> maken.</p> <p>De <code>onSend()</code>-functie ziet er nu als volgt uit:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">onSend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>inputValue<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token function">addChat</span><span class="token punctuation">(</span>inputValue<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">const</span> reply <span class="token operator">=</span> <span class="token keyword">await</span> bot<span class="token punctuation">.</span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string">'local-user'</span><span class="token punctuation">,</span> inputValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addChat</span><span class="token punctuation">(</span>reply<span class="token punctuation">)</span><span class="token punctuation">;</span>

    chatInput<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    inputValue <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="demo"><a href="#demo" class="header-anchor">#</a> Demo</h2> <p>Nu zou je het volgende resultaat moeten bekomen:</p> <iframe src="https://thomvand26.github.io/chatbot-demo/" width="100%" height="500px" style="border:none;"></iframe> <p>Proficiat, je hebt nu een chatbot gemaakt! 🎉<br>
Deze chatbot kan je nu aanpassen en verbeteren zoals je zelf wil.</p> <p>De code van deze demo kan je terugvinden op <a href="https://github.com/thomvand26/chatbot-demo" target="_blank" rel="noopener noreferrer">de GitHub repo van de demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/research-thomvand26/documentatie/" class="prev router-link-active">
        Intro
      </a></span> <span class="next"><a href="/research-thomvand26/documentatie/frankbot.html">
        Frankbot
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/research-thomvand26/assets/js/app.9e2ef4d6.js" defer></script><script src="/research-thomvand26/assets/js/2.029014fa.js" defer></script><script src="/research-thomvand26/assets/js/7.b5a16f72.js" defer></script>
  </body>
</html>
